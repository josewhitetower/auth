(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/Login.f2a47764.png"},36:function(e,t,a){e.exports=a.p+"static/media/NotFound.4c412ab4.png"},42:function(e,t,a){e.exports=a(83)},47:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(32),l=a.n(s),c=(a(47),a(8)),i=a(9),o=a(12),u=a(10),m=a(13),p=a(86),d=a(88),h=a(84),E=a(41),f=a(6),g=a(5),b=a(18),v=a.n(b);console.log(Object({NODE_ENV:"production",PUBLIC_URL:""}));var N=function(e){return{type:"SET_USER",user:e}},j=function(e){return{type:"SET_ERROR",error:e}},O=function(e){var t=e.users,a=t?t.map(function(e){return r.a.createElement("li",{className:"collection-item avatar",key:e._id},r.a.createElement("p",null,r.a.createElement("span",{className:"btn btn-floating red lighten-1"},e.firstName[0].toUpperCase(),e.lastName[0].toUpperCase())),r.a.createElement("p",{className:"title"},e.firstName," ",e.lastName),r.a.createElement("p",{className:"red-text"},e.email))}):r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"indeterminate"}));return r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"collection"},a))},w=a(35),C=a.n(w),y={componentDidMount:function(e){e.getAllUsers()}},S=Object(f.d)(Object(g.b)(function(e){return{users:e.users.users,user:e.users.user,error:e.users.error}},function(e){return{getAllUsers:function(){return e(function(e){v.a.get("".concat("","/api/users/")).then(function(t){e({type:"GET_ALL_USERS",users:t.data.users})}).catch(function(t){if(t.message&&console.log(t.message),t.response&&t.response.data.errors){var a=t.response.data.errors.map(function(e){return e.msg}).join(", ");e(j(a))}})})}}}),Object(E.a)(y))(function(e){var t=e.user,a=e.users,n=e.error,s=t?r.a.createElement(O,{users:a}):r.a.createElement("div",{className:"center"},r.a.createElement("h4",null,"Welcome, please sing up!"),r.a.createElement("img",{src:C.a,alt:"A man in front a door",height:400}));return r.a.createElement("div",null,s,r.a.createElement("p",{className:"center red-text"},n))}),U=a(11),k=a(17),x=a(87),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleUserChange=function(e){var t=Object(k.a)({},a.state.user,Object(U.a)({},e.target.id,e.target.value));a.setState({user:t})},a.handleSubmit=function(e){e.preventDefault(),a.props.updateUser(a.state.user)},a.state={user:e.user},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.user,t=e?r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email",className:"active"},"Email"),r.a.createElement("input",{type:"email",id:"email",required:!0,onChange:this.handleUserChange,defaultValue:e.email})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName",className:"active"},"First name"),r.a.createElement("input",{type:"text",id:"firstName",required:!0,onChange:this.handleUserChange,defaultValue:e.firstName})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName",className:"active"},"Last name"),r.a.createElement("input",{type:"text",id:"lastName",required:!0,onChange:this.handleUserChange,defaultValue:e.lastName})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn purple lighten-2"},"Update"),r.a.createElement("div",{className:"center red-text"},this.props.error))):r.a.createElement(x.a,{to:"/signin"});return r.a.createElement("div",{className:"container"},t)}}]),t}(n.Component),F=Object(g.b)(function(e){return{user:e.users.user}},function(e){return{updateUser:function(t){return e(function(e){return function(t){v.a.put("".concat("","/api/users/")+e._id,e,{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){t(N(e.data.user))}).catch(function(e){if(e.message&&console.log(e.message),e.response&&e.response.data.errors){var a=e.response.data.errors.map(function(e){return e.msg}).join(", ");t(j(a))}})}}(t))}}})(_),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.user?r.a.createElement(x.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",id:"password",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn purple lighten-2"},"Login"),r.a.createElement("div",{className:"center red-text"},this.props.error))))}}]),t}(n.Component),L=Object(g.b)(function(e){return{error:e.users.error,user:e.users.user}},function(e,t){return{signIn:function(a){return e(function(e,t){return function(a){v.a.post("".concat("","/api/users/login"),e).then(function(e){a(N(e.data.user)),localStorage.setItem("token",e.data.token),t.history.push("/")}).catch(function(e){if(e.response.data.errors){var t=e.response.data.errors.map(function(e){return e.msg}).join(", ");a(j(t))}})}}(a,t))}}})(R),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",confirmPassword:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.user?r.a.createElement(x.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"confirmPassword",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{type:"text",id:"firstName",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{type:"text",id:"lastName",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn purple lighten-2"},"Sign Up"),r.a.createElement("div",{className:"center red-text"},this.props.error))))}}]),t}(n.Component),A=Object(g.b)(function(e){return{error:e.users.error,user:e.users.user}},function(e,t){return{signUp:function(a){return e(function(e,t){return function(a){v.a.post("".concat("","/api/users/register"),e).then(function(e){a(N(e.data.user)),localStorage.setItem("token",e.data.token),t.history.push("/")}).catch(function(e){if(e.response.data.errors){var t=e.response.data.errors.map(function(e){return e.msg}).join(", ");a(j(t))}})}}(a,t))}}})(q),I=a(73),T=a(85),P=function(e){return r.a.createElement("div",null,r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/signup"},"SignUp")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/signin"},"Login"))))},D=Object(g.b)(null,function(e){return{logOut:function(){return e((localStorage.removeItem("token"),{type:"SET_USER",user:null}))}}})(function(e){var t=e.user,a=t.firstName,n=t.lastName,s=a[0].toUpperCase()+n[0].toUpperCase();return r.a.createElement("div",null,r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/profile",className:"btn btn-floating red lighten-1"},s)),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/",onClick:e.logOut},"Logout"))))}),V=Object(g.b)(function(e){return{user:e.users.user}})(function(e){var t=e.user,a=t&&t._id?r.a.createElement(D,{user:e.user}):r.a.createElement(P,null);return r.a.createElement("nav",{className:"nav-wrapper purple lighten-2"},r.a.createElement("div",{className:"container"},r.a.createElement(I.a,{to:"/",className:"brand-logo left"},"User Manager"),a))}),W=a(36),B=a.n(W),G=function(){return r.a.createElement("div",{className:"center"},r.a.createElement("h3",null,"404"),r.a.createElement("h5",null,r.a.createElement(I.a,{to:"/"},"Return to Home Page")),r.a.createElement("img",{src:B.a,alt:"Error 404",height:400}))},J=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement(d.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:S}),r.a.createElement(h.a,{path:"/signin",component:L}),r.a.createElement(h.a,{path:"/signup",component:A}),r.a.createElement(h.a,{path:"/profile",component:F}),r.a.createElement(h.a,{path:"*",component:G})),r.a.createElement("div",{className:"center"},r.a.createElement("p",null," Created with ",r.a.createElement("span",{role:"img","aria-label":"heart"},"\ud83d\udc93 "),"by ",r.a.createElement("a",{href:"https://www.github.com/josewhitetower",target:"_blank",rel:"noopener noreferrer"},"@josewhitetower")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(37),z=a(21),H=a(38),$=a(39),K=a.n($),Q=a(40),X={user:null,error:null,users:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(k.a)({},e,{user:t.user,error:null});case"SET_ERROR":return Object(k.a)({},e,{error:t.error});case"GET_ALL_USERS":return Object(k.a)({},e,{users:t.users,error:null});default:return e}},Z=Object(f.c)({users:Y}),ee={key:"root",storage:K.a,transforms:[Object(Q.createWhitelistFilter)("users",["user"])]},te=Object(z.persistReducer)(ee,Z),ae=Object(f.e)(te,Object(f.a)(M.a)),ne=Object(z.persistStore)(ae);l.a.render(r.a.createElement(g.a,{store:ae},r.a.createElement(H.a,{loading:null,persistor:ne},r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,2,1]]]);
//# sourceMappingURL=main.a081b17e.chunk.js.map